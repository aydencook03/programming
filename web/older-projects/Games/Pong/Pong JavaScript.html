
<!-- This Code Is 100% Plain JavaScript
      With No JQuery Or Images -->
      
<!-- Check Out My Other Games If You 
      Liked This One -->

<!DOCTYPE html>
<html>

<head>

<Style>
	
	button:focus {
		outline: none;
	}
	
Div {
display: flex;
Justify-content: center;
Align-items: center;
}
         
canvas {
Margin-bottom: 10px;
Border-radius: 3px;
border: 3px solid white;
} 

#leftButton {
width: 150px;
float: left;
height: 65px;
Font-weight: bold;
Font-size: 30px;
Margin-right: 1px;
Border-radius: 3px;
}

#rightButton {
width: 150px;
float: left;
Height: 65px;
Font-weight: bold;
Font-size: 30px;
Margin-left: 1px;
Border-radius: 3px;
}

span {
Display: flex;
Justify-content: center;
Align-items: center;
Font-weight: bold;
Font-size: 20px;
Font-family: Arial;
color: white;
}

#buttons {display:flex;
          Align-items: center;
          Margin-top: 0px;
          Justify-content: center;}

h2 {display: flex;
    Justify-content: center;
    Margin-top: 20px;
    color: white;
    }

#ballSpeedUp {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#ballSpeedDown {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#paddleWidthUp {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#paddleButtons {
  Margin-top: 5px;
}

#paddleWidthDown {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#cPaddleButtons {margin-top: 5px;}

#enPaddleWidthUp {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#enPaddleWidthDown {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#ballSize {margin-top: 5px;}

#ballSizeUp {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#ballSizeDown {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#winScore {margin-top: 5px;}

#winScoreDown {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#winScoreUp {
  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#paddleY {margin-top: 5px;}

#paddleYUp {
	  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#paddleYDown {
	  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#enPaddleY {margin-top: 5px;}

#enPaddleYUp {
	  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#enPaddleYDown {
	  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

#useMouse {margin-bottom: 5px}

#useMouseTrue {
		  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-left: 1px;
  Border-radius: 3px;
}

#useMouseFalse {
		  font-weight: bold;
  Height: 60px;
  Width: 150px;
  Font-size: 15px;
  Float: left;
  Margin-right: 1px;
  Border-radius: 3px;
}

body {
  background: radial-gradient(#111, #444);
}

#copyright {
	float: right;
	font-size: 0.8em;
	margin-top: 3px;
	color: white;
	
}

</style>

  <Script>

//Grab Canvas
var canvas;
var canvasContext;

//Paddle Variables
var paddleX = 120;
var pxVelocity = 0;
var enPaddleX = 120;
var PADDLE_WIDTH = 60;
var ENPADDLE_WIDTH = 60;
var paddleHeight = 10;
var paddleY = 380;
var enPaddleY = 10;

//Framerate
var fPs = 60;

//Ball Variables
var yVelocity = 2.5 ;
var xVelocity = Math.random()*2;
var ballSpeed = 1;
var ballSize = 5;

//Game Mechanics
var yourScore = 0;
var compScore = 0;
var WINNING_SCORE = 3;
var showUwinScreen = false;
var showCwinScreen = false;
var aiDif = 30;
var levelNumber = 1;
var aiSpeed = 3;
var uWon = false;
var useMouse = false;

//Game Rules
alert("GAME-CONTROLS:\nYou can use your keyboard's arrow keys and also the W S A D keys to move your paddle, also, you can turn on mouse controls to use the mouse to play, and if your on touchscreen you can use the built in buttons.\n\nGAME-SWITCHES:\nBelow the game, you can change some of the elements of the game like ball size, paddle size, etc.\n\nGAMEPLAY:\nYou have to move your paddle in order to block the ball from passing your side of the screen, if it does, the computer scores, if you knock the ball past the computer, you score.\n\nHOW TO WIN:\nYou have to score the given winning score (you can change winning score), each time you win against the computer the level number increases and it gets harder to beat.")

//What Happens When The Window Loads
window.onload = function() {
canvas = document.getElementById('game');
canvasContext = canvas.getContext('2d');
 setInterval(drawShapes,1000/fPs);
 ballReset();
}

//Ball Start Position
var ballY = 90;
var ballX = 90;

//Speeds Up The Ball For The Button
function ballSpeedUp() {
  yVelocity *= 1.5;
}

//Slows The Ball For The Button
function ballSpeedDown() {
  yVelocity *= 0.5;
}

//Lengthens Enemy Paddle For Button
function enPaddleWidthUp() {
  ENPADDLE_WIDTH += 10;
}

//Shortens Enemy Paddle For Button
function enPaddleWidthDown() {
  ENPADDLE_WIDTH -= 10;
}

//Moves P1 Paddle Up For Button
function paddleUp() {
	paddleY -= 10;
}

//Moves P1 Paddle Down For Button
function paddleDown() {
	paddleY += 10;
}

//Moves P2 Paddle Up For Button
function enPaddleUp() {
	enPaddleY -= 10;
}

//Moves P2 Paddle Down For Button
function enPaddleDown() {
	enPaddleY += 10;
}

//Button To Turn On Mouse Controls
function useMouseTrue() {
	useMouse = true;
}

//Button To Turn Off Mouse Controls
function useMouseFalse() {
	useMouse = false;
}

//Instructions To Turn Off Win Screen
function restartGame() {
  if(showUwinScreen) {
    yourScore = 0;
    compScore = 0;
    showUwinScreen = false;
    uWon = false;
    }
  if(showCwinScreen) {
    yourScore = 0;
    compScore = 0;
    showCwinScreen = false;
    uWon = false;
    }
}

//Instructions To Draw The Net
function drawNet() {
	for(var i=0;i<canvas.width;i+=15) {
canvasContext.fillStyle = "white";		canvasContext.fillRect(i,canvas.height/2-1,7,1);
	}
}

//Lengthens Paddle For Button
function paddleWidthUp() {
  PADDLE_WIDTH += 10;
}

//Shortens Paddle For Button
function paddleWidthDown() {
  PADDLE_WIDTH -= 10;
}

//Makes Ball Smaller For Button
function ballSizeDown() {
  ballSize--;
}

//Makes Ball Larger For Button
function ballSizeUp() {
  ballSize++;
}

//Add Winning Score Button
function winScoreUp() {
  WINNING_SCORE++;
}

//Subtract Winning Score Button
function winScoreDown() {
  WINNING_SCORE--;
}

//Resets Level If You Lose
function levelReset() {
	levelNumber = 1;
	aiSpeed = 3;
}

var showTitleScreen = true;

document.addEventListener("click",startGame);

function startGame() {
	if(showTitleScreen) {
		showTitleScreen = false;
	}
}

//Draw Everything
function drawShapes() {

//Black Out The Canvas
canvasContext.fillStyle = 'black';
canvasContext.fillRect(0,0,canvas.width,canvas.height);

	if(showTitleScreen) {
	 canvasContext.fillStyle = "white";
  canvasContext.font ="30px Arial";
  canvasContext.fillText("JavaScript Pong",canvas.width/2-110, canvas.height/2);
  
    canvasContext.font ="12px Arial";
  canvasContext.fillText("Game By Ayden Cook", 5, canvas.height-15);
  
    canvasContext.font ="20px Arial";
  canvasContext.fillText("Click To Play", canvas.width/2-60, canvas.height/2+80);
  return;
}

//Show Player Score
canvasContext.fillStyle = "white";
canvasContext.font = "15px Arial";
canvasContext.fillText("P1 Score: " + yourScore, 5, 375);

//Show Computer Score
canvasContext.fillText("P2 Score: " + compScore, 5, 35);

//Show Level Number
canvasContext.font = "12 px arial";
canvasContext.fillText("Level: " + levelNumber, 5, canvas.height/2-25);

checkAi();

//Draw You Win Screen
if(showUwinScreen) {
	
	if(uWon == false) {
  canvasContext.fillStyle = "white";
  canvasContext.font ="40px Arial";
  canvasContext.fillText("Level Cleared!",canvas.width/2-120, canvas.height/2+40);
  
    canvasContext.font ="12px Arial";
  canvasContext.fillText("Game By Ayden Cook", 5, canvas.height-10);
  
    canvasContext.font ="10px Arial";
  canvasContext.fillText("Press An Arrow Key Or Click To Continue", canvas.width/2-75, canvas.height/2+80);
  }
  
  if(uWon) {
  canvasContext.fillStyle = "white";
  canvasContext.font ="40px Arial";
  canvasContext.fillText("You Won!",canvas.width/2-80, canvas.height/2+40);
  
    canvasContext.font ="12px Arial";
  canvasContext.fillText("Game By Ayden Cook", 5, canvas.height-10);
  
    canvasContext.font ="10px Arial";
  canvasContext.fillText("Press An Arrow Key Or Click To Restart", canvas.width/2-75, canvas.height/2+80);
  }
  
  return;
  
  uWon = false;
  }

//Draw You Lose Screen
if(showCwinScreen) {
  canvasContext.fillStyle = "white";
  canvasContext.font ="40px Arial";
  canvasContext.fillText("Game Over!",canvas.width/2-100,canvas.height/2+40);
  
  canvasContext.font ="12px Arial";
  canvasContext.fillText("Game By Ayden Cook", 5, canvas.height-10);
  
  canvasContext.font ="10px Arial";
  canvasContext.fillText("Press An Arrow Key Or Click To Restart", canvas.width/2-75, canvas.height/2+80);
  return; }

//Show Winning Score
canvasContext.font = "12px Arial";
canvasContext.fillText("Winning Score: " + WINNING_SCORE, 5, canvas.height/2-10);

//Execute The drawNet Function
drawNet();

//Move Ball Vertically
ballY = ballY + yVelocity;

paddleX += pxVelocity;

//Perform AI Movements
computer();

//Move Ball Horizontally
ballX = ballX + xVelocity;

//Bounce Ball Off Walls
if(ballX + ballSize >= canvas.width && xVelocity >= 0) {
  xVelocity = -xVelocity;}
if(ballX - ballSize <= 0 && xVelocity <= 0) {
  xVelocity = -xVelocity;}
  
//Reset Ball Ball At Bottom
if(ballY - ballSize >= canvas.height) {
	compScore += 1;
	ballReset();
}

//Reset Ball At Top
if(ballY + ballSize <= 0) {
	yourScore += 1;
	ballReset();
}

//Bounce Ball Off P1 Paddle
if(ballY + ballSize >= paddleY &&
   ballY - ballSize <= paddleY + paddleHeight &&
   ballX + ballSize >= paddleX &&
   ballX - ballSize <= paddleX + PADDLE_WIDTH) {
   	yVelocity = -yVelocity;
   	var deltaX = ballX - (paddleX+PADDLE_WIDTH/2);
   	xVelocity = deltaX*0.2;
}

//Bounce Ball Off P2 Paddle
if(ballY - ballSize <= enPaddleY + paddleHeight &&
   ballY + ballSize >= enPaddleY &&
   ballX + ballSize >= enPaddleX &&
   ballX - ballSize <= enPaddleX + ENPADDLE_WIDTH) {
   	yVelocity = -yVelocity;
   	var deltaX = ballX - (enPaddleX+ENPADDLE_WIDTH/2); 
   	xVelocity = deltaX*0.2;
}

//Can't Move Paddle Off Screen
if(paddleY + paddleHeight > canvas.height) {
	paddleY = canvas.height - paddleHeight;
}

if(enPaddleY < 0) {
	enPaddleY = 0;
}

//Don't Let Paddle Go Off Right Side
if(paddleX + PADDLE_WIDTH > canvas.width) { paddleX = canvas.width - PADDLE_WIDTH}

//Don't Let Paddle Go Off Left Side
if(paddleX < 0) { paddleX = 0}

if(enPaddleX <0) {enPaddleX = 0}

if(enPaddleX + ENPADDLE_WIDTH > canvas.width) {enPaddleX = canvas.width - ENPADDLE_WIDTH}

//Draw Player Paddle
canvasContext.fillStyle = "white";
canvasContext.fillRect(paddleX,paddleY,PADDLE_WIDTH,paddleHeight);

//Draw Ball
canvasContext.fillStyle = "white";
canvasContext.beginPath();
canvasContext.arc(ballX,ballY,ballSize,0,Math.PI*2, true);
canvasContext.fill();

//Draw Computer Paddle
canvasContext.fillStyle = "white";
canvasContext.fillRect(enPaddleX,enPaddleY,ENPADDLE_WIDTH,paddleHeight);
} 

//Reset Ball And Show Win Screens
function ballReset() {
  if(yourScore >= WINNING_SCORE) {
    showUwinScreen = true;
    levelNumber++;
    } 
  if(compScore >= WINNING_SCORE) {
    showCwinScreen = true;
    levelReset();
    }
  yVelocity = -yVelocity;
  ballX = canvas.width/2;
  ballY = canvas.height/2;
  xVelocity = Math.random()*2;
//Randomize Velocity
if(xVelocity < 1) {
	xVelocity = Math.random()*-4;
}
if(xVelocity >= 1) {
	xVelocity = Math.random()*4;
	}
}

//Make ai Harder After Each Level
function checkAi() {
if(levelNumber == 1) {
	aiDif = 30;
	aiSpeed = 2;
}
else if(levelNumber == 2) {
	aiDif = 20;
	aiSpeed = 2;
}
else if(levelNumber == 3) {
	aiDif = 15;
	aiSpeed = 5;
}
else if(levelNumber == 4) {
	aiDif = 17;
	aiSpeed = 6;
}
else if(levelNumber == 5) {
	aiDif = 20;
	aiSpeed = 9;
}
else if(levelNumber == 6) {
	aiDif = 25;
	aiSpeed = 20;
}
else if(levelNumber == 7) {
	aiDif = 25;
	aiSpeed = 25;
}
else if(levelNumber > 7) {
	levelReset();
	uWon = true;
}
}

//AI Movement Code
function moveLeft() {
  if(enPaddleX + ENPADDLE_WIDTH/2 > ballX + aiDif) { enPaddleX -= aiSpeed}}

//AI Movement Code
function moveRight() {
  if(enPaddleX + ENPADDLE_WIDTH/2 < ballX - aiDif) {enPaddleX += aiSpeed}}

// AI Movement Function
function computer() {
  moveRight();
  moveLeft();}

//Move Paddle Button
function paddleMoveLeft() {
  pxVelocity = -4.5;
}

//Move Paddle Button
function paddleMoveRight() {
 pxVelocity = 4.5;
}
function clearMove() {
	pxVelocity = 0;
}

//What To Do If Key Is Pressed
document.addEventListener("keydown",keyPress);
document.addEventListener("keyup", clearMove);

//Determines What Keys Are Pressed
function keyPress(e) {
	if(e.keyCode == "37" || e.keyCode == "65") {
		paddleMoveLeft();
		restartGame();
		e.preventDefault();
	}
	else if(e.keyCode == "39" || e.keyCode == "68") {
		paddleMoveRight();
		restartGame();
		e.preventDefault();
	}
}

//Get Mouse Position
document.addEventListener("mousemove",updateMousePos);

//Make Mouse Equal Paddle Position
function updateMousePos(evt) {
	
	if(useMouse) {
	var rect = canvas.getBoundingClientRect();
	var root = document.documentElement;
	var mouseX = evt.clientX - rect.left - root.scrollLeft;
	
	paddleX = mouseX - PADDLE_WIDTH/2;
	}
}

document.addEventListener("click", checkClick);

function checkClick() {
	restartGame();
}

  </script>

</head>

<body>
  <Div>
<Canvas id="game" width="350px" height="400px"> </canvas>
  </Div>
  <Div>
<Button id="leftButton" onclick=" restartGame()" onmousedown="paddleMoveLeft()" onmouseup="clearMove()" ontouchstart="paddleMoveLeft()" ontouchend="clearMove()" width="150px">  </button>

<Button id="rightButton" onclick=" restartGame()" onmousedown="paddleMoveRight()" onmouseup="clearMove()" ontouchstart="paddleMoveRight()" ontouchend="clearMove()" width="150px">  </button> </div>

<H2><u>Game Controls</u></h2>

	<div id="useMouse">
		<button id="useMouseFalse" onclick="useMouseFalse()">Turn Off Mouse Controls</button>
		
		<button id="useMouseTrue" onclick="useMouseTrue()">Turn On Mouse Controls</button> </div>

<Div id="buttons"> 
<button id="ballSpeedDown" onclick="ballSpeedDown()">
 Ball Speed Down </button>

<button id="ballSpeedUp" onclick="ballSpeedUp()">Ball Speed Up </button> </div>

<Div id="paddleButtons">
<button id="paddleWidthDown" onclick="paddleWidthDown()">Paddle Width Down </button>

<button id="paddleWidthUp" onclick="paddleWidthUp()">Paddle Width Up</button> </div>
</Div>

<Div id="cPaddleButtons">
<button id="enPaddleWidthDown" onclick="enPaddleWidthDown()">Enemy Paddle Width Down</button>

<button id="enPaddleWidthUp" onclick="enPaddleWidthUp()">Enemy Paddle Width Up</button></div>

<Div id="ballSize">
<Button id="ballSizeDown" onclick="ballSizeDown()">Decrease Ball Size</button>

<Button id="ballSizeUp" onclick="ballSizeUp()">Increase Ball Size</button> </div>

<Div id="winScore">
<Button id="winScoreDown" onclick="winScoreDown()">Decrease Winning Score </button>

<Button id="winScoreUp" onclick="winScoreUp()">Increase Winning Score</button> </div>

<div id="paddleY">
	<button id="paddleYDown" onclick="paddleDown()">Move Your Paddle Down</button>
	
	<button id="paddleYUp" onclick="paddleUp()">Move Your Paddle Up</button> </div>
	
<div id="enPaddleY">
	<button id="enPaddleYDown" onclick="enPaddleDown()">Move Enemy Paddle Down</button>
	
	<button id="enPaddleYUp" onclick="enPaddleUp()">Move Enemy Paddle Up</button> </div>

<span id="copyright"><i> <sup>&copy;</sup>Ayden Cook, 2017 All Rights Reserved</i></span>
</Body>
</html>